<!DOCTYPE html>
<html lang="ru">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Ğ’Ğ¾Ğ»Ğ¶ÑĞºĞ¾Ğµ ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ Ñƒ ĞšĞ¾ÑÑ‚Ñ€Ğ°</title>
Â  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet" />
Â  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

Â  <style>
Â  Â  /* Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸ */
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  background: #000 url('https://i.ibb.co/hcW5xtj/fireplace-night.gif') center/cover fixed no-repeat;
Â  Â  Â  color: #fff;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  .container {
Â  Â  Â  max-width: 1000px;
Â  Â  Â  margin: 20px auto;
Â  Â  Â  padding: 20px;
Â  Â  Â  background-color: rgba(0, 0, 0, 0.75);
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: 0 0 30px #ffcc00;
Â  Â  }

Â  Â  h1 {
Â  Â  Â  font-size: 48px;
Â  Â  Â  color: #ffcc00;
Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  text-shadow: 2px 2px #000;
Â  Â  }

Â  Â  label {
Â  Â  Â  font-size: 20px;
Â  Â  }

Â  Â  input[type="number"] {
Â  Â  Â  margin-left: 8px;
Â  Â  Â  padding: 8px;
Â  Â  Â  font-size: 18px;
Â  Â  Â  width: 110px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  border: 2px solid #ffcc00;
Â  Â  Â  background: #111;
Â  Â  Â  color: #ffcc00;
Â  Â  Â  text-align: center;
Â  Â  }

Â  Â  button {
Â  Â  Â  margin: 12px 8px 20px;
Â  Â  Â  padding: 14px 28px;
Â  Â  Â  font-size: 18px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  background: linear-gradient(90deg, #ffcc00 0%, #ff9900 100%);
Â  Â  Â  color: #000;
Â  Â  Â  box-shadow: 0 0 15px #ffcc00;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: transform 0.3s ease;
Â  Â  }

Â  Â  button:hover:not(:disabled) {
Â  Â  Â  transform: scale(1.1);
Â  Â  Â  box-shadow: 0 0 30px #ffcc00;
Â  Â  }

Â  Â  button:disabled {
Â  Â  Â  opacity: 0.5;
Â  Â  Â  cursor: not-allowed;
Â  Â  }

Â  Â  .game-select {
Â  Â  Â  margin: 20px 0 10px;
Â  Â  }

Â  Â  .game-btn {
Â  Â  Â  margin: 0 8px;
Â  Â  Â  padding: 12px 24px;
Â  Â  Â  font-size: 20px;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  border: 2px solid #ffcc00;
Â  Â  Â  background: transparent;
Â  Â  Â  color: #ffcc00;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: background-color 0.3s ease, color 0.3s ease;
Â  Â  }

Â  Â  .game-btn.active,
Â  Â  .game-btn:hover {
Â  Â  Â  background-color: #ffcc00;
Â  Â  Â  color: #000;
Â  Â  }

Â  Â  .game {
Â  Â  Â  display: none;
Â  Â  Â  margin-top: 20px;
Â  Â  }

Â  Â  .game.active {
Â  Â  Â  display: block;
Â  Â  }

Â  Â  /* Ğ¡Ğ›ĞĞ¢Ğ« */
Â  Â  #slotMachine {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 15px;
Â  Â  Â  margin-bottom: 20px;
Â  Â  }

Â  Â  .reel {
Â  Â  Â  width: 70px;
Â  Â  Â  height: 100px;
Â  Â  Â  overflow: hidden;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  background: #222;
Â  Â  Â  box-shadow: inset 0 0 10px #000;
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  .symbols {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  will-change: transform;
Â  Â  }

Â  Â  .symbols > div {
Â  Â  Â  height: 33.33px;
Â  Â  Â  line-height: 33.33px;
Â  Â  Â  font-size: 32px;
Â  Â  Â  color: #ffcc00;
Â  Â  Â  user-select: none;
Â  Â  Â  text-shadow: 1px 1px 2px #000;
Â  Â  }

Â  Â  /* Ğ Ğ£Ğ›Ğ•Ğ¢ĞšĞ */
Â  Â  #rouletteWheel {
Â  Â  Â  position: relative;
Â  Â  Â  margin: 0 auto 15px;
Â  Â  Â  width: 300px;
Â  Â  Â  height: 300px;
Â  Â  }

Â  Â  #rouletteCanvas {
Â  Â  Â  border-radius: 50%;
Â  Â  Â  box-shadow: 0 0 15px #ffcc00;
Â  Â  }

Â  Â  #roulettePointer {
Â  Â  Â  position: absolute;
Â  Â  Â  top: -10px;
Â  Â  Â  left: 50%;
Â  Â  Â  width: 0;
Â  Â  Â  height: 0;
Â  Â  Â  border-left: 15px solid transparent;
Â  Â  Â  border-right: 15px solid transparent;
Â  Â  Â  border-bottom: 30px solid #ffcc00;
Â  Â  Â  transform: translateX(-50%);
Â  Â  }

Â  Â  /* Ğ‘Ğ›Ğ­ĞšĞ”Ğ–Ğ•Ğš */
Â  Â  .cards-container {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 40px;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  margin-bottom: 20px;
Â  Â  }

Â  Â  .cardsArea {
Â  Â  Â  min-height: 120px;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 12px;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  background: #111;
Â  Â  Â  padding: 15px;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: inset 0 0 15px #000;
Â  Â  }

Â  Â  .card {
Â  Â  Â  width: 70px;
Â  Â  Â  height: 100px;
Â  Â  Â  background: #ffcc00;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  box-shadow: 0 0 15px #aa7d00;
Â  Â  Â  font-size: 40px;
Â  Â  Â  color: #000;
Â  Â  Â  text-align: center;
Â  Â  Â  line-height: 100px;
Â  Â  Â  user-select: none;
Â  Â  Â  position: relative;
Â  Â  Â  cursor: default;
Â  Â  Â  transition: transform 0.5s ease;
Â  Â  }

Â  Â  .card.red {
Â  Â  Â  color: #b20000;
Â  Â  }

Â  Â  .blackjack-buttons {
Â  Â  Â  margin-bottom: 20px;
Â  Â  }

Â  Â  #blackjackResult {
Â  Â  Â  font-size: 22px;
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  font-weight: 700;
Â  Â  Â  text-shadow: 1px 1px 3px #000;
Â  Â  }

Â  Â  .history {
Â  Â  Â  background: #111;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  padding: 12px;
Â  Â  Â  max-height: 160px;
Â  Â  Â  overflow-y: auto;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  font-size: 14px;
Â  Â  Â  text-align: left;
Â  Â  Â  box-shadow: inset 0 0 10px #000;
Â  Â  }

Â  Â  /* ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ */
Â  Â  @media (max-width: 700px) {
Â  Â  Â  h1 {
Â  Â  Â  Â  font-size: 36px;
Â  Â  Â  }
Â  Â  Â  .cards-container {
Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  }
Â  Â  Â  .cardsArea {
Â  Â  Â  Â  min-height: 90px;
Â  Â  Â  }
Â  Â  Â  .card {
Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  height: 72px;
Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  line-height: 72px;
Â  Â  Â  }
Â  Â  Â  button, input[type="number"] {
Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  padding: 12px 0;
Â  Â  Â  }
Â  Â  Â  #slotMachine {
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  }
Â  Â  }

Â  Â  @media (max-width: 400px) {
Â  Â  Â  input[type="number"] {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>
Â  <div class="container">
Â  Â  <h1>Ğ’Ğ¾Ğ»Ğ¶ÑĞºĞ¾Ğµ ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ Ñƒ ĞšĞ¾ÑÑ‚Ñ€Ğ°</h1>
Â  Â  <p id="balance">Ğ’Ğ°ÑˆĞ¸ Ñ€ÑƒĞ±Ñ‡Ğ¸ĞºĞ¸: <span id="balanceValue">1000</span> â‚½</p>

Â  Â  <label for="bet">Ğ¡Ñ‚Ğ°Ğ²ĞºĞ°: </label>
Â  Â  <input type="number" id="bet" value="100" min="10" max="1000" />

Â  Â  <div class="game-select">
Â  Â  Â  <button data-game="slots" class="game-btn active">ğŸ° ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚</button>
Â  Â  Â  <button data-game="roulette" class="game-btn">ğŸ¯ Ğ ÑƒĞ»ĞµÑ‚ĞºĞ°</button>
Â  Â  Â  <button data-game="blackjack" class="game-btn">ğŸ‚¡ Ğ‘Ğ»ÑĞºĞ´Ğ¶ĞµĞº</button>
Â  Â  </div>

Â  Â  <!-- Ğ¡Ğ›ĞĞ¢Ğ« -->
Â  Â  <section id="slots" class="game active" aria-label="Ğ˜Ğ³Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚">
Â  Â  Â  <h2>ğŸ° Ğ˜Ğ³Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚</h2>
Â  Â  Â  <div id="slotMachine" aria-live="polite" aria-atomic="true">
Â  Â  Â  Â  <div class="reel"><div class="symbols"></div></div>
Â  Â  Â  Â  <div class="reel"><div class="symbols"></div></div>
Â  Â  Â  Â  <div class="reel"><div class="symbols"></div></div>
Â  Â  Â  </div>
Â  Â  Â  <button id="spinSlotsBtn" aria-label="ĞšÑ€ÑƒÑ‚Ğ¸Ñ‚ÑŒ Ğ¸Ğ³Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚">ĞšÑ€ÑƒÑ‚Ğ¸Ñ‚ÑŒ</button>
Â  Â  Â  <div class="history" id="slotHistory" aria-live="polite" aria-atomic="true"></div>
Â  Â  </section>

Â  Â  <!-- Ğ Ğ£Ğ›Ğ•Ğ¢ĞšĞ -->
Â  Â  <section id="roulette" class="game" aria-label="Ğ ÑƒĞ»ĞµÑ‚ĞºĞ°">
Â  Â  Â  <h2>ğŸ¯ Ğ ÑƒĞ»ĞµÑ‚ĞºĞ°</h2>
Â  Â  Â  <div id="rouletteWheel">
Â  Â  Â  Â  <canvas id="rouletteCanvas" width="300" height="300" aria-label="ĞšĞ¾Ğ»ĞµÑĞ¾ Ñ€ÑƒĞ»ĞµÑ‚ĞºĞ¸"></canvas>
Â  Â  Â  Â  <div id="roulettePointer" aria-hidden="true"></div>
Â  Â  Â  </div>
Â  Â  Â  <input type="number" id="rouletteNumber" placeholder="Ğ§Ğ¸ÑĞ»Ğ¾ 0-36" min="0" max="36" aria-label="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ´Ğ»Ñ ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ² Ñ€ÑƒĞ»ĞµÑ‚ĞºĞµ" />
Â  Â  Â  <button id="spinRouletteBtn" aria-label="ĞšÑ€ÑƒÑ‚Ğ¸Ñ‚ÑŒ Ñ€ÑƒĞ»ĞµÑ‚ĞºÑƒ">ĞšÑ€ÑƒÑ‚Ğ¸Ñ‚ÑŒ Ñ€ÑƒĞ»ĞµÑ‚ĞºÑƒ</button>
Â  Â  Â  <div class="history" id="rouletteHistory" aria-live="polite" aria-atomic="true"></div>
Â  Â  </section>

Â  Â  <!-- Ğ‘Ğ›Ğ­ĞšĞ”Ğ–Ğ•Ğš -->
Â  Â  <section id="blackjack" class="game" aria-label="Ğ‘Ğ»ÑĞºĞ´Ğ¶ĞµĞº">
Â  Â  Â  <h2>ğŸ‚¡ Ğ‘Ğ»ÑĞºĞ´Ğ¶ĞµĞº</h2>
Â  Â  Â  <p id="blackjackResult" aria-live="polite" aria-atomic="true"></p>
Â  Â  Â  <div class="cards-container">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <h3>Ğ”Ğ¸Ğ»ĞµÑ€</h3>
Â  Â  Â  Â  Â  <div id="dealerCards" class="cardsArea"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <h3>Ğ˜Ğ³Ñ€Ğ¾Ğº</h3>
Â  Â  Â  Â  Â  <div id="playerCards" class="cardsArea"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <div class="blackjack-buttons">
Â  Â  Â  Â  <button id="dealBtn" aria-label="Ğ Ğ°Ğ·Ğ´Ğ°Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñ‹">Ğ¡Ğ´Ğ°Ñ‚ÑŒ</button>
Â  Â  Â  Â  <button id="hitBtn" disabled aria-label="Ğ’Ğ·ÑÑ‚ÑŒ ĞµÑ‰Ñ‘ ĞºĞ°Ñ€Ñ‚Ñƒ">Ğ•Ñ‰Ñ‘</button>
Â  Â  Â  Â  <button id="standBtn" disabled aria-label="Ğ¥Ğ²Ğ°Ñ‚Ğ¸Ñ‚">Ğ¥Ğ²Ğ°Ñ‚Ğ¸Ñ‚</button>
Â  Â  Â  </div>
Â  Â  Â  <div class="history" id="blackjackHistory" aria-live="polite" aria-atomic="true"></div>
Â  Â  </section>
Â  </div>

Â  <script>
Â  Â  // ===== ĞĞ‘Ğ©Ğ˜Ğ• ĞŸĞ•Ğ Ğ•ĞœĞ•ĞĞĞ«Ğ• =====
Â  Â  let balance = 1000;
Â  Â  const balanceValue = document.getElementById("balanceValue");
Â  Â  const betInput = document.getElementById("bet");
Â  Â  const gameButtons = document.querySelectorAll(".game-btn");

Â  Â  function currentBet() {
Â  Â  Â  let bet = parseInt(betInput.value);
Â  Â  Â  if (isNaN(bet) || bet < 10) bet = 10;
Â  Â  Â  if (bet > balance) bet = balance;
Â  Â  Â  return bet;
Â  Â  }

Â  Â  function updateBalance() {
Â  Â  Â  balanceValue.textContent = balance;
Â  Â  }

Â  Â  function logHistory(game, text) {
Â  Â  Â  const el = document.getElementById(game + "History");
Â  Â  Â  if (!el) return;
Â  Â  Â  const entry = document.createElement("div");
Â  Â  Â  const time = new Date().toLocaleTimeString();
Â  Â  Â  entry.textContent = `${time}: ${text}`;
Â  Â  Â  el.prepend(entry);
Â  Â  }

Â  Â  // ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ³Ñ€
Â  Â  gameButtons.forEach(btn => {
Â  Â  Â  btn.addEventListener("click", () => {
Â  Â  Â  Â  const gameId = btn.getAttribute("data-game");
Â  Â  Â  Â  document.querySelectorAll(".game").forEach(g => g.classList.remove("active"));
Â  Â  Â  Â  document.getElementById(gameId).classList.add("active");
Â  Â  Â  Â  gameButtons.forEach(b => b.classList.remove("active"));
Â  Â  Â  Â  btn.classList.add("active");
Â  Â  Â  Â  if (gameId === "blackjack") setupBlackjack();
Â  Â  Â  });

Â  Â  });

Â  Â  updateBalance();

Â  Â  // ======================
Â  Â  // ===== Ğ¡Ğ›ĞĞ¢Ğ« =====
Â  Â  // ======================
Â  Â  const slotSymbols = ["ğŸ–", "ğŸº", "ğŸ·", "ğŸš¤", "ğŸŒŠ", "ğŸ¥ƒ", "ğŸ»", "ğŸ—"];
Â  Â  const reels = [...document.querySelectorAll("#slotMachine .symbols")];
Â  Â  const spinSlotsBtn = document.getElementById("spinSlotsBtn");

Â  Â  function createReelSymbols() {
Â  Â  Â  // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ¼ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñ‹ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ±Ğ°Ñ€Ğ°Ğ±Ğ°Ğ½ Ğ¿Ğ¾ Ñ†Ğ¸ĞºĞ»Ñƒ
Â  Â  Â  reels.forEach(reel => {
Â  Â  Â  Â  reel.innerHTML = '';
Â  Â  Â  Â  for (let i = 0; i < 10; i++) {
Â  Â  Â  Â  Â  const sym = slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
Â  Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  Â  div.textContent = sym;
Â  Â  Â  Â  Â  reel.appendChild(div);
Â  Â  Â  Â  }
Â  Â  Â  Â  reel.style.transform = "translateY(0)";
Â  Â  Â  });
Â  Â  }

Â  Â  // ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğ±Ğ°Ñ€Ğ°Ğ±Ğ°Ğ½Ğ¾Ğ²
Â  Â  function animateReel(reel, resultSymbol, delay) {
Â  Â  Â  return new Promise(resolve => {
Â  Â  Â  Â  const totalSymbols = reel.children.length;
Â  Â  Â  Â  let position = 0;
Â  Â  Â  Â  const step = 33.33; // Ğ²Ñ‹ÑĞ¾Ñ‚Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°

Â  Â  Â  Â  // Ğ¦Ğ¸ĞºĞ» Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ñ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸ĞµĞ¼ Ğ¸ Ğ·Ğ°Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ¸ĞµĞ¼
Â  Â  Â  Â  let frames = 30 + Math.floor(Math.random() * 30);
Â  Â  Â  Â  let frameCount = 0;

Â  Â  Â  Â  function frame() {
Â  Â  Â  Â  Â  frameCount++;
Â  Â  Â  Â  Â  position += step * 2; // ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ

Â  Â  Â  Â  Â  if (position >= step * totalSymbols) {
Â  Â  Â  Â  Â  Â  position = 0;
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  reel.style.transform = `translateY(-${position}px)`;

Â  Â  Â  Â  Â  if (frameCount < frames) {
Â  Â  Â  Â  Â  Â  requestAnimationFrame(frame);
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾ Ğ¾ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ÑÑ Ğ½Ğ° ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
Â  Â  Â  Â  Â  Â  const finalIndex = Array.from(slotSymbols).indexOf(resultSymbol);
Â  Â  Â  Â  Â  Â  const offset = finalIndex * step;
Â  Â  Â  Â  Â  Â  reel.style.transition = "transform 1s ease-out";
Â  Â  Â  Â  Â  Â  reel.style.transform = `translateY(-${offset}px)`;
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  reel.style.transition = "";
Â  Â  Â  Â  Â  Â  Â  resolve();
Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  frame();
Â  Â  Â  });

Â  Â  }

Â  Â  async function playSlots() {
Â  Â  Â  const bet = currentBet();
Â  Â  Â  if (bet > balance) {
Â  Â  Â  Â  Swal.fire("ĞÑˆĞ¸Ğ±ĞºĞ°", "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ€ÑƒĞ±Ñ‡Ğ¸ĞºĞ¾Ğ²!", "error");
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  balance -= bet;
Â  Â  Â  updateBalance();

Â  Â  Â  // ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ (3 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°)
Â  Â  Â  const results = [];
Â  Â  Â  for (let i = 0; i < reels.length; i++) {
Â  Â  Â  Â  results.push(slotSymbols[Math.floor(Math.random() * slotSymbols.length)]);
Â  Â  Â  }

Â  Â  Â  // ĞĞ½Ğ¸Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ±Ğ°Ñ€Ğ°Ğ±Ğ°Ğ½ Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹
Â  Â  Â  for (let i = 0; i < reels.length; i++) {
Â  Â  Â  Â  await animateReel(reels[i], results[i], i * 700);
Â  Â  Â  }

Â  Â  Â  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ: Ğ²ÑĞµ 3 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ° ÑĞ¾Ğ²Ğ¿Ğ°Ğ»Ğ¸
Â  Â  Â  if (results.every(s => s === results[0])) {
Â  Â  Â  Â  const win = bet * 5;
Â  Â  Â  Â  balance += win;
Â  Â  Â  Â  updateBalance();
Â  Â  Â  Â  logHistory("slot", `Ğ’Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ: +${win} â‚½ (ÑĞ¸Ğ¼Ğ²Ğ¾Ğ» ${results[0]})`);
Â  Â  Â  Â  Swal.fire("ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼!", `Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸ ${win} â‚½!`, "success");
Â  Â  Â  } else {
Â  Â  Â  Â  logHistory("slot", `ĞŸÑ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ñˆ: -${bet} â‚½ (Ğ²Ñ‹Ğ¿Ğ°Ğ»Ğ¾ ${results.join(' ')})`);
Â  Â  Â  Â  Swal.fire("Ğ£Ğ²Ñ‹", "ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°!", "info");
Â  Â  Â  }
Â  Â  }

Â  Â  spinSlotsBtn.addEventListener("click", playSlots);
Â  Â  createReelSymbols();

Â  Â  // ======================
Â  Â  // ===== Ğ Ğ£Ğ›Ğ•Ğ¢ĞšĞ =====
Â  Â  // ======================
Â  Â  const rouletteCanvas = document.getElementById("rouletteCanvas");
Â  Â  const ctx = rouletteCanvas.getContext("2d");
Â  Â  const spinRouletteBtn = document.getElementById("spinRouletteBtn");
Â  Â  const rouletteHistory = document.getElementById("rouletteHistory");
Â  Â  const rouletteNumberInput = document.getElementById("rouletteNumber");
Â  Â  const rouletteWheel = document.getElementById("rouletteWheel");

Â  Â  const segments = 37; // Ñ‡Ğ¸ÑĞ»Ğ° Ğ¾Ñ‚ 0 Ğ´Ğ¾ 36
Â  Â  const segmentColors = [];
Â  Â  // Ğ¦Ğ²ĞµÑ‚Ğ°: 0 Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹, Ğ·Ğ°Ñ‚ĞµĞ¼ Ñ‡ĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹/Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹ (1 - ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹, 2 - Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹)
Â  Â  for (let i = 0; i < segments; i++) {
Â  Â  Â  if (i === 0) segmentColors.push("#008000"); // Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹
Â  Â  Â  else if (i % 2 === 0) segmentColors.push("#000000"); // Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹
Â  Â  Â  else segmentColors.push("#ff0000"); // ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹
Â  Â  }

Â  Â  const centerX = rouletteCanvas.width / 2;
Â  Â  const centerY = rouletteCanvas.height / 2;
Â  Â  const radius = Math.min(centerX, centerY) - 10;

Â  Â  function drawRouletteWheel() {
Â  Â  Â  const anglePerSegment = (2 * Math.PI) / segments;
Â  Â  Â  ctx.clearRect(0, 0, rouletteCanvas.width, rouletteCanvas.height);

Â  Â  Â  for (let i = 0; i < segments; i++) {
Â  Â  Â  Â  const startAngle = i * anglePerSegment;
Â  Â  Â  Â  const endAngle = startAngle + anglePerSegment;

Â  Â  Â  Â  ctx.beginPath();
Â  Â  Â  Â  ctx.moveTo(centerX, centerY);
Â  Â  Â  Â  ctx.arc(centerX, centerY, radius, startAngle, endAngle);
Â  Â  Â  Â  ctx.closePath();
Â  Â  Â  Â  ctx.fillStyle = segmentColors[i];
Â  Â  Â  Â  ctx.fill();
Â  Â  Â  Â  ctx.strokeStyle = "#222";
Â  Â  Â  Â  ctx.stroke();

Â  Â  Â  Â  // Ğ§Ğ¸ÑĞ»Ğ¾
Â  Â  Â  Â  ctx.save();
Â  Â  Â  Â  ctx.translate(centerX, centerY);
Â  Â  Â  Â  ctx.rotate(startAngle + anglePerSegment / 2);
Â  Â  Â  Â  ctx.textAlign = "right";
Â  Â  Â  Â  ctx.fillStyle = "#fff";
Â  Â  Â  Â  ctx.font = "bold 18px Orbitron, sans-serif";
Â  Â  Â  Â  ctx.fillText(i.toString(), radius - 10, 8);
Â  Â  Â  Â  ctx.restore();
Â  Â  Â  }
Â  Â  }

Â  Â  let currentAngle = 0;
Â  Â  let spinning = false;

Â  Â  function spinRoulette() {
Â  Â  Â  if (spinning) return;
Â  Â  Â  const betNum = parseInt(rouletteNumberInput.value);
Â  Â  Â  if (isNaN(betNum) || betNum < 0 || betNum > 36) {
Â  Â  Â  Â  Swal.fire("ĞÑˆĞ¸Ğ±ĞºĞ°", "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ¾Ñ‚ 0 Ğ´Ğ¾ 36", "warning");
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  const bet = currentBet();
Â  Â  Â  if (bet > balance) {
Â  Â  Â  Â  Swal.fire("ĞÑˆĞ¸Ğ±ĞºĞ°", "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ€ÑƒĞ±Ñ‡Ğ¸ĞºĞ¾Ğ²!", "error");
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  balance -= bet;
Â  Â  Â  updateBalance();

Â  Â  Â  spinning = true;
Â  Â  Â  let spinTime = 0;
Â  Â  Â  let spinDuration = 5000 + Math.random() * 2000;
Â  Â  Â  let startAngle = currentAngle;
Â  Â  Â  const spinSpeed = 0.3 + Math.random() * 0.3;

Â  Â  Â  function animate() {
Â  Â  Â  Â  spinTime += 16;
Â  Â  Â  Â  if (spinTime >= spinDuration) {
Â  Â  Â  Â  Â  // Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
Â  Â  Â  Â  Â  spinning = false;
Â  Â  Â  Â  Â  // Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ğ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
Â  Â  Â  Â  Â  const normalizedAngle = currentAngle % (2 * Math.PI);
Â  Â  Â  Â  Â  const segmentAngle = (2 * Math.PI) / segments;
Â  Â  Â  Â  Â  const landedSegment = segments - 1 - Math.floor(normalizedAngle / segmentAngle);
Â  Â  Â  Â  Â  //console.log('Landed on:', landedSegment);

Â  Â  Â  Â  Â  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹ÑˆĞ°
Â  Â  Â  Â  Â  if (landedSegment === betNum) {
Â  Â  Â  Â  Â  Â  const win = bet * 36;
Â  Â  Â  Â  Â  Â  balance += win;
Â  Â  Â  Â  Â  Â  updateBalance();
Â  Â  Â  Â  Â  Â  Swal.fire("ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼!", `Ğ’Ñ‹Ğ¿Ğ°Ğ»Ğ¾ ${landedSegment}. Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸ ${win} â‚½!`, "success");
Â  Â  Â  Â  Â  Â  logHistory("roulette", `Ğ’Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ: Ñ‡Ğ¸ÑĞ»Ğ¾ ${landedSegment}, +${win} â‚½`);
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Swal.fire("Ğ£Ğ²Ñ‹", `Ğ’Ñ‹Ğ¿Ğ°Ğ»Ğ¾ ${landedSegment}. Ğ’Ñ‹ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸.`, "info");
Â  Â  Â  Â  Â  Â  logHistory("roulette", `Ğ¡Ñ‚Ğ°Ğ²ĞºĞ°: ${betNum}, Ğ²Ñ‹Ğ¿Ğ°Ğ»Ğ¾: ${landedSegment}, -${bet} â‚½`);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  drawRouletteWheel();
Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ°ĞµĞ¼ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ñ Ñ‚ĞµÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
Â  Â  Â  Â  const progress = spinTime / spinDuration;
Â  Â  Â  Â  const easing = 1 - Math.pow(1 - progress, 3); // ease out cubic
Â  Â  Â  Â  currentAngle = startAngle + (2 * Math.PI * 8) * (1 - easing);
Â  Â  Â  Â  drawRouletteWheel();
Â  Â  Â  Â  // ĞĞ°Ñ€Ğ¸ÑÑƒĞµĞ¼ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ…
Â  Â  Â  Â  requestAnimationFrame(animate);
Â  Â  Â  }

Â  Â  Â  animate();
Â  Â  }

Â  Â  drawRouletteWheel();
Â  Â  spinRouletteBtn.addEventListener("click", spinRoulette);

Â  Â  // ======================
Â  Â  // ===== Ğ‘Ğ›Ğ­ĞšĞ”Ğ–Ğ•Ğš =====
Â  Â  // ======================
Â  Â  const suits = ["â™ ", "â™¥", "â™¦", "â™£"];
Â  Â  const ranks = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];
Â  Â  let deck = [];
Â  Â  let playerHand = [];
Â  Â  let dealerHand = [];
Â  Â  let blackjackInProgress = false;

Â  Â  const dealerCardsEl = document.getElementById("dealerCards");
Â  Â  const playerCardsEl = document.getElementById("playerCards");
Â  Â  const blackjackResultEl = document.getElementById("blackjackResult");
Â  Â  const blackjackHistory = document.getElementById("blackjackHistory");

Â  Â  const dealBtn = document.getElementById("dealBtn");
Â  Â  const hitBtn = document.getElementById("hitBtn");
Â  Â  const standBtn = document.getElementById("standBtn");

Â  Â  function createDeck() {
Â  Â  Â  deck = [];
Â  Â  Â  for (const suit of suits) {
Â  Â  Â  Â  for (const rank of ranks) {
Â  Â  Â  Â  Â  deck.push({ suit, rank });
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â  shuffle(deck);
Â  Â  }

Â  Â  function shuffle(array) {
Â  Â  Â  for (let i = array.length - 1; i > 0; i--) {
Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  [array[i], array[j]] = [array[j], array[i]];
Â  Â  Â  }
Â  Â  }

Â  Â  function cardValue(card) {
Â  Â  Â  if (card.rank === "A") return 11;
Â  Â  Â  if (["J", "Q", "K"].includes(card.rank)) return 10;
Â  Â  Â  return parseInt(card.rank);
Â  Â  }

Â  Â  function calculateHandValue(hand) {
Â  Â  Â  let value = 0;
Â  Â  Â  let aces = 0;
Â  Â  Â  for (const card of hand) {
Â  Â  Â  Â  value += cardValue(card);
Â  Â  Â  Â  if (card.rank === "A") aces++;
Â  Â  Â  }
Â  Â  Â  while (value > 21 && aces > 0) {
Â  Â  Â  Â  value -= 10;
Â  Â  Â  Â  aces--;
Â  Â  Â  }
Â  Â  Â  return value;
Â  Â  }

Â  Â  function renderCards(container, hand, hideFirst = false) {
Â  Â  Â  container.innerHTML = "";
Â  Â  Â  hand.forEach((card, index) => {
Â  Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  Â  div.classList.add("card");
Â  Â  Â  Â  if (card.suit === "â™¥" || card.suit === "â™¦") div.classList.add("red");
Â  Â  Â  Â  if (hideFirst && index === 0) {
Â  Â  Â  Â  Â  div.textContent = "ğŸ‚ "; // Ñ€ÑƒĞ±Ğ°ÑˆĞºĞ° ĞºĞ°Ñ€Ñ‚Ñ‹
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  div.textContent = card.rank + card.suit;
Â  Â  Â  Â  }
Â  Â  Â  Â  container.appendChild(div);
Â  Â  Â  });
Â  Â  }

Â  Â  function logBlackjack(text) {
Â  Â  Â  const entry = document.createElement("div");
Â  Â  Â  const time = new Date().toLocaleTimeString();
Â  Â  Â  entry.textContent = `${time}: ${text}`;
Â  Â  Â  blackjackHistory.prepend(entry);
Â  Â  }

Â  Â  function setupBlackjack() {
Â  Â  Â  blackjackResultEl.textContent = "";
Â  Â  Â  dealerCardsEl.innerHTML = "";
Â  Â  Â  playerCardsEl.innerHTML = "";
Â  Â  Â  blackjackHistory.innerHTML = "";
Â  Â  Â  playerHand = [];
Â  Â  Â  dealerHand = [];
Â  Â  Â  blackjackInProgress = false;
Â  Â  Â  hitBtn.disabled = true;
Â  Â  Â  standBtn.disabled = true;
Â  Â  }

Â  Â  function dealInitialCards() {
Â  Â  Â  if (blackjackInProgress) return;
Â  Â  Â  const bet = currentBet();
Â  Â  Â  if (bet > balance) {
Â  Â  Â  Â  Swal.fire("ĞÑˆĞ¸Ğ±ĞºĞ°", "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ€ÑƒĞ±Ñ‡Ğ¸ĞºĞ¾Ğ²!", "error");
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  balance -= bet;
Â  Â  Â  updateBalance();

Â  Â  Â  blackjackInProgress = true;
Â  Â  Â  playerHand = [];
Â  Â  Â  dealerHand = [];
Â  Â  Â  createDeck();

Â  Â  Â  // Ğ Ğ°Ğ·Ğ´Ğ°Ñ‡Ğ° Ğ¿Ğ¾ 2 ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ¸Ğ³Ñ€Ğ¾ĞºÑƒ Ğ¸ Ğ´Ğ¸Ğ»ĞµÑ€Ñƒ
Â  Â  Â  playerHand.push(deck.pop());
Â  Â  Â  dealerHand.push(deck.pop());
Â  Â  Â  playerHand.push(deck.pop());
Â  Â  Â  dealerHand.push(deck.pop());

Â  Â  Â  renderCards(playerCardsEl, playerHand);
Â  Â  Â  renderCards(dealerCardsEl, dealerHand, true);
Â  Â  Â  blackjackResultEl.textContent = "Ğ˜Ğ³Ñ€Ğ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°ÑÑŒ. Ğ’Ğ°Ñˆ Ñ…Ğ¾Ğ´.";
Â  Â  Â  logBlackjack(`Ğ˜Ğ³Ñ€Ğ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°ÑÑŒ. Ğ¡Ñ‚Ğ°Ğ²ĞºĞ°: ${bet} â‚½`);

Â  Â  Â  hitBtn.disabled = false;
Â  Â  Â  standBtn.disabled = false;
Â  Â  }
Â  Â  
  function playerHit() {
    if (!blackjackInProgress) return;
    playerHand.push(deck.pop());
    renderCards(playerCardsEl, playerHand);
    const playerVal = calculateHandValue(playerHand);
    logBlackjack(`Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ²Ğ·ÑĞ» ĞºĞ°Ñ€Ñ‚Ñƒ. ĞÑ‡ĞºĞ¸: ${playerVal}`);
    if (playerVal > 21) {
      blackjackResultEl.textContent = "ĞŸĞµÑ€ĞµĞ±Ğ¾Ñ€! Ğ’Ñ‹ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸.";
      logBlackjack("ĞŸĞµÑ€ĞµĞ±Ğ¾Ñ€ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°. ĞŸÑ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ñˆ.");
      endBlackjack(false);
    } else if (playerVal === 21) {
      blackjackResultEl.textContent = "21! Ğ¥Ğ¾Ğ´ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°.";
      dealerTurn();
    }
  }

  function dealerTurn() {
    hitBtn.disabled = true;
    standBtn.disabled = true;

    renderCards(dealerCardsEl, dealerHand, false);
    let dealerVal = calculateHandValue(dealerHand);
    let playerVal = calculateHandValue(playerHand);

    logBlackjack(`Ğ¥Ğ¾Ğ´ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°. ĞÑ‡ĞºĞ¸ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°: ${dealerVal}`);

    function dealerPlayStep() {
      dealerVal = calculateHandValue(dealerHand);

      if (dealerVal < 17) {
        dealerHand.push(deck.pop());
        renderCards(dealerCardsEl, dealerHand, false);
        logBlackjack(`Ğ”Ğ¸Ğ»ĞµÑ€ Ğ±ĞµÑ€ĞµÑ‚ ĞºĞ°Ñ€Ñ‚Ñƒ. ĞÑ‡ĞºĞ¸ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°: ${dealerVal}`);
        setTimeout(dealerPlayStep, 1000);
      } else {
        // Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‡ĞºĞ¾Ğ²
        if (dealerVal > 21) {
          blackjackResultEl.textContent = "Ğ”Ğ¸Ğ»ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ±Ñ€Ğ°Ğ»! Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸!";
          logBlackjack("Ğ”Ğ¸Ğ»ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ±Ñ€Ğ°Ğ». Ğ’Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°.");
          endBlackjack(true);
        } else if (dealerVal === playerVal) {
          blackjackResultEl.textContent = "ĞĞ¸Ñ‡ÑŒÑ.";
          logBlackjack("ĞĞ¸Ñ‡ÑŒÑ.");
          endBlackjack(null);
        } else if (dealerVal > playerVal) {
          blackjackResultEl.textContent = "Ğ”Ğ¸Ğ»ĞµÑ€ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ».";
          logBlackjack("Ğ”Ğ¸Ğ»ĞµÑ€ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ».");
          endBlackjack(false);
        } else {
          blackjackResultEl.textContent = "Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸!";
          logBlackjack("Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ».");
          endBlackjack(true);
        }
      }
    }

    setTimeout(dealerPlayStep, 1000);
  }

  function endBlackjack(playerWon) {
    blackjackInProgress = false;
    hitBtn.disabled = true;
    standBtn.disabled = true;

    const bet = currentBet();
    if (playerWon === true) {
      // Ğ’Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ñˆ 2x ÑÑ‚Ğ°Ğ²ĞºĞ¸
      balance += bet * 2;
      updateBalance();
      Swal.fire("ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼!", `Ğ’Ñ‹ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸ ${bet * 2} â‚½!`, "success");
    } else if (playerWon === null) {
      // ĞĞ¸Ñ‡ÑŒÑ, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ÑÑ‚Ğ°Ğ²ĞºĞ¸
      balance += bet;
      updateBalance();
      Swal.fire("ĞĞ¸Ñ‡ÑŒÑ", "Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ°.", "info");
    } else {
      // ĞŸÑ€Ğ¾Ğ¸Ğ³Ñ€Ñ‹Ñˆ - ÑÑ‚Ğ°Ğ²ĞºĞ° ÑƒĞ¶Ğµ ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ°
      Swal.fire("Ğ£Ğ²Ñ‹", "Ğ’Ñ‹ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸.", "error");
    }
  }

  dealBtn.addEventListener("click", () => {
    setupBlackjack();
    dealInitialCards();
  });

  hitBtn.addEventListener("click", () => {
    playerHit();
  });

  standBtn.addEventListener("click", () => {
    if (!blackjackInProgress) return;
    blackjackResultEl.textContent = "Ğ¥Ğ¾Ğ´ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°.";
    logBlackjack("Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ğ»ÑÑ. Ğ¥Ğ¾Ğ´ Ğ´Ğ¸Ğ»ĞµÑ€Ğ°.");
    dealerTurn();
  });

  // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
  setupBlackjack();
</script>
